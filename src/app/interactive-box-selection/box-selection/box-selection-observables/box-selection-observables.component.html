<div class="box-container">
  @for (box of boxSelectionService.boxes$ | async; track $index) {
    <app-box [isSelected]="selectedBoxIndex === $index" 
      [selectedOption]="box.selectedOption"
      (onSelect)="selectBox($index)">
    </app-box>
  }
  <button class="clear" (click)="resetSelections()">
    Clear All Selections
  </button>
</div>

@if (selectedBoxIndex !== null) {
  <app-option-selector [selectedOption]="selectedOption$ | async"
    (optionSelected)="selectOption($event)">
  </app-option-selector>
}